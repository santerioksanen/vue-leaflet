"use strict";var Ue=Object.create;var te=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var De=Object.getOwnPropertyNames;var Ee=Object.getPrototypeOf,Fe=Object.prototype.hasOwnProperty;var He=(t,o,e,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of De(o))!Fe.call(t,a)&&a!==e&&te(t,a,{get:()=>o[a],enumerable:!(s=ze(o,a))||s.enumerable});return t};var v=(t,o,e)=>(e=t!=null?Ue(Ee(t)):{},He(o||!t||!t.__esModule?te(e,"default",{value:t,enumerable:!0}):e,t));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("vue"),oe=(t,o)=>{for(const e of Object.keys(o))t.on(e,o[e])},re=t=>{for(const o of Object.keys(t)){const e=t[o];e&&G(e.cancel)&&e.cancel()}},Ze=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),G=t=>typeof t=="function",h=(t,o,e)=>{for(const s in e){const a="set"+Ze(s);t[a]?n.watch(()=>e[s],(r,l)=>{t[a](r,l)}):o[a]&&n.watch(()=>e[s],r=>{o[a](r)})}},L=(t,o,e={})=>{const s={...e};for(const a in t){const r=o[a],l=t[a];r&&(r&&r.custom===!0||l!==void 0&&(s[a]=l))}return s},C=t=>{const o={};for(const e in t)if(e.startsWith("on")&&!e.startsWith("onUpdate")&&e!=="onReady"){const s=e.slice(2).toLocaleLowerCase();o[s]=t[e]}return o},We=async t=>{const o=await Promise.all([import("leaflet/dist/images/marker-icon-2x.png"),import("leaflet/dist/images/marker-icon.png"),import("leaflet/dist/images/marker-shadow.png")]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:o[0].default,iconUrl:o[1].default,shadowUrl:o[2].default})},Z=t=>{const o=n.ref((...s)=>console.warn(`Method ${t} has been invoked without being replaced`)),e=(...s)=>o.value(...s);return e.wrapped=o,n.provide(t,e),e},W=(t,o)=>t.wrapped.value=o,b=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,y=t=>{const o=n.inject(t);if(o===void 0)throw new Error(`Attempt to inject ${t.description} before it was provided.`);return o},g=Symbol("useGlobalLeaflet"),T=Symbol("addLayer"),J=Symbol("removeLayer"),z=Symbol("registerControl"),ae=Symbol("registerLayerControl"),ie=Symbol("canSetParentHtml"),le=Symbol("setParentHtml"),ue=Symbol("setIcon"),ce=Symbol("bindPopup"),de=Symbol("bindTooltip"),pe=Symbol("unbindPopup"),me=Symbol("unbindTooltip"),D={options:{type:Object,default:()=>({}),custom:!0}},E=t=>({options:t.options,methods:{}}),N={...D,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},F=(t,o,e)=>{const s=y(T),a=y(J),{options:r,methods:l}=E(t),i=L(t,N,r),u=()=>s({leafletObject:o.value}),c=()=>a({leafletObject:o.value}),d={...l,setAttribution(m){c(),o.value.options.attribution=m,t.visible&&u()},setName(){c(),t.visible&&u()},setLayerType(){c(),t.visible&&u()},setVisible(m){o.value&&(m?u():c())},bindPopup(m){if(!o.value||!G(o.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}o.value.bindPopup(m)},bindTooltip(m){if(!o.value||!G(o.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}o.value.bindTooltip(m)},unbindTooltip(){o.value&&(G(o.value.closeTooltip)&&o.value.closeTooltip(),G(o.value.unbindTooltip)&&o.value.unbindTooltip())},unbindPopup(){o.value&&(G(o.value.closePopup)&&o.value.closePopup(),G(o.value.unbindPopup)&&o.value.unbindPopup())},updateVisibleProp(m){e.emit("update:visible",m)}};return n.provide(ce,d.bindPopup),n.provide(de,d.bindTooltip),n.provide(pe,d.unbindPopup),n.provide(me,d.unbindTooltip),n.onUnmounted(()=>{d.unbindPopup(),d.unbindTooltip(),c()}),{options:i,methods:d}},k=(t,o)=>{if(t&&o.default)return n.h("div",{style:{display:"none"}},o.default())},ye={...N,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},qe=(t,o,e)=>{const{options:s,methods:a}=F(t,o,e);return{options:L(t,ye,s),methods:a}},R={...ye,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},ve=(t,o,e)=>{const{options:s,methods:a}=qe(t,o,e),r=L(t,R,s),l=y(J),i={...a,setStroke(u){o.value.setStyle({stroke:u})},setColor(u){o.value.setStyle({color:u})},setWeight(u){o.value.setStyle({weight:u})},setOpacity(u){o.value.setStyle({opacity:u})},setLineCap(u){o.value.setStyle({lineCap:u})},setLineJoin(u){o.value.setStyle({lineJoin:u})},setDashArray(u){o.value.setStyle({dashArray:u})},setDashOffset(u){o.value.setStyle({dashOffset:u})},setFill(u){o.value.setStyle({fill:u})},setFillColor(u){o.value.setStyle({fillColor:u})},setFillOpacity(u){o.value.setStyle({fillOpacity:u})},setFillRule(u){o.value.setStyle({fillRule:u})},setClassName(u){o.value.setStyle({className:u})}};return n.onBeforeUnmount(()=>{l({leafletObject:o.value})}),{options:r,methods:i}},Q={...R,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},fe=(t,o,e)=>{const{options:s,methods:a}=ve(t,o,e),r=L(t,Q,s),l={...a,setRadius(i){o.value.setRadius(i)},setLatLng(i){o.value.setLatLng(i)}};return{options:r,methods:l}},be={...Q,radius:{type:Number}},Je=(t,o,e)=>{const{options:s,methods:a}=fe(t,o,e),r=L(t,be,s),l={...a};return{options:r,methods:l}},xe=n.defineComponent({name:"LCircle",props:be,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:l,methods:i}=Je(t,e,o);return n.onMounted(async()=>{const{circle:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLng,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),Ke=n.defineComponent({name:"LCircleMarker",props:Q,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:l,methods:i}=fe(t,e,o);return n.onMounted(async()=>{const{circleMarker:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLng,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),$={...D,position:{type:String}},H=(t,o)=>{const{options:e,methods:s}=E(t),a=L(t,$,e),r={...s,setPosition(l){o.value&&o.value.setPosition(l)}};return n.onUnmounted(()=>{o.value&&o.value.remove()}),{options:a,methods:r}},Re=t=>t.default?n.h("div",{ref:"root"},t.default()):null,Qe=n.defineComponent({name:"LControl",props:{...$,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,o){const e=n.ref(),s=n.ref(),a=n.inject(g),r=y(z),{options:l,methods:i}=H(t,e);return n.onMounted(async()=>{const{Control:u,DomEvent:c}=a?b.L:await import("leaflet/dist/leaflet-src.esm"),d=u.extend({onAdd(){return s.value}});e.value=n.markRaw(new d(l)),h(i,e.value,t),r({leafletObject:e.value}),t.disableClickPropagation&&s.value&&c.disableClickPropagation(s.value),t.disableScrollPropagation&&s.value&&c.disableScrollPropagation(s.value),n.nextTick(()=>o.emit("ready",e.value))}),{root:s,leafletObject:e}},render(){return Re(this.$slots)}}),Le={...$,prefix:{type:String}},Xe=(t,o)=>{const{options:e,methods:s}=H(t,o),a=L(t,Le,e),r={...s,setPrefix(l){o.value.setPrefix(l)}};return{options:a,methods:r}},Ye=n.defineComponent({name:"LControlAttribution",props:Le,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(z),{options:r,methods:l}=Xe(t,e);return n.onMounted(async()=>{const{control:i}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i.attribution(r)),h(l,e.value,t),a({leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),he={...$,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}},Ve=(t,o)=>{const{options:e}=H(t,o);return{options:L(t,he,e),methods:{addLayer(r){r.layerType==="base"?o.value.addBaseLayer(r.leafletObject,r.name):r.layerType==="overlay"&&o.value.addOverlay(r.leafletObject,r.name)},removeLayer(r){o.value.removeLayer(r.leafletObject)}}}},et=n.defineComponent({name:"LControlLayers",props:he,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(ae),{options:r,methods:l}=Ve(t,e);return n.onMounted(async()=>{const{control:i}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i.layers(void 0,void 0,r)),h(l,e.value,t),a({...t,...l,leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),ge={...$,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}},tt=(t,o)=>{const{options:e,methods:s}=H(t,o);return{options:L(t,ge,e),methods:s}},ot=n.defineComponent({name:"LControlScale",props:ge,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(z),{options:r,methods:l}=tt(t,e);return n.onMounted(async()=>{const{control:i}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i.scale(r)),h(l,e.value,t),a({leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Oe={...$,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},nt=(t,o)=>{const{options:e,methods:s}=H(t,o);return{options:L(t,Oe,e),methods:s}},st=n.defineComponent({name:"LControlZoom",props:Oe,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(z),{options:r,methods:l}=nt(t,e);return n.onMounted(async()=>{const{control:i}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i.zoom(r)),h(l,e.value,t),a({leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),x={...N},X=(t,o,e)=>{const{options:s,methods:a}=F(t,o,e),r=L(t,x,s),l={...a,addLayer(i){o.value.addLayer(i.leafletObject)},removeLayer(i){o.value.removeLayer(i.leafletObject)}};return n.provide(T,l.addLayer),n.provide(J,l.removeLayer),{options:r,methods:l}},je={...x},rt=(t,o,e)=>{const{options:s,methods:a}=X(t,o,e),r=L(t,je,s),l={...a};return{options:r,methods:l}},at=n.defineComponent({props:je,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{methods:l,options:i}=rt(t,e,o);return n.onMounted(async()=>{const{featureGroup:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(void 0,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),Ce={...x,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},it=(t,o,e)=>{const{options:s,methods:a}=X(t,o,e),r=L(t,Ce,s);Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(r.style=t.optionsStyle);const l={...a,setGeojson(i){o.value.clearLayers(),o.value.addData(i)},setOptionsStyle(i){o.value.setStyle(i)},getGeoJSONData(){return o.value.toGeoJSON()},getBounds(){return o.value.getBounds()}};return{options:r,methods:l}},lt=n.defineComponent({props:Ce,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{methods:l,options:i}=it(t,e,o);return n.onMounted(async()=>{const{geoJSON:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.geojson,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),Y={...N,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}},Se=(t,o,e)=>{const{options:s,methods:a}=F(t,o,e),r=L(t,Y,s),l={...a,setTileComponent(){var i;(i=o.value)==null||i.redraw()}};return n.onUnmounted(()=>{o.value.off()}),{options:r,methods:l}},ut=(t,o,e,s)=>t.extend({initialize(a){this.tileComponents={},this.on("tileunload",this._unloadTile),e.setOptions(this,a)},createTile(a){const r=this._tileCoordsToKey(a);this.tileComponents[r]=o.create("div");const l=n.h({setup:s,props:["coords"]},{coords:a});return n.render(l,this.tileComponents[r]),this.tileComponents[r]},_unloadTile(a){const r=this._tileCoordsToKey(a.coords);this.tileComponents[r]&&(this.tileComponents[r].innerHTML="",this.tileComponents[r]=void 0)}}),ct=n.defineComponent({props:{...Y,childRender:{type:Function,required:!0}},setup(t,o){const e=n.ref(),s=n.ref(null),a=n.ref(!1),r=n.inject(g),l=y(T),{options:i,methods:u}=Se(t,e,o);return n.onMounted(async()=>{const{GridLayer:c,DomUtil:d,Util:m}=r?b.L:await import("leaflet/dist/leaflet-src.esm"),P=ut(c,d,m,t.childRender);e.value=n.markRaw(new P(i));const f=C(o.attrs);e.value.on(f),h(u,e.value,t),l({...t,...u,leafletObject:e.value}),a.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{root:s,ready:a,leafletObject:e}},render(){return this.ready?n.h("div",{style:{display:"none"},ref:"root"}):null}}),ne={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},dt=n.defineComponent({name:"LIcon",props:{...ne,...D},setup(t,o){const e=n.ref(),s=n.inject(g),a=y(ie),r=y(le),l=y(ue);let i,u,c,d,m;const P=(S,w,_)=>{const M=S&&S.innerHTML;if(!w){_&&m&&a()&&r(M);return}const I=C(o.attrs);m&&u(m,I);const{options:K}=E(t),B=L(t,ne,K);M&&(B.html=M),m=B.html?c(B):d(B),i(m,I),l(m)},f=()=>{n.nextTick(()=>P(e.value,!0,!1))},A=()=>{n.nextTick(()=>P(e.value,!1,!0))},j={setIconUrl:f,setIconRetinaUrl:f,setIconSize:f,setIconAnchor:f,setPopupAnchor:f,setTooltipAnchor:f,setShadowUrl:f,setShadowRetinaUrl:f,setShadowAnchor:f,setBgPos:f,setClassName:f,setHtml:f};return n.onMounted(async()=>{const{DomEvent:S,divIcon:w,icon:_}=s?b.L:await import("leaflet/dist/leaflet-src.esm");i=S.on,u=S.off,c=w,d=_,h(j,{},t),new MutationObserver(A).observe(e.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),f()}),{root:e}},render(){const t=this.$slots.default?this.$slots.default():void 0;return n.h("div",{ref:"root"},t)}}),Te={...N,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}},pt=(t,o,e)=>{const{options:s,methods:a}=F(t,o,e),r=L(t,Te,s),l={...a,setOpacity(i){return o.value.setOpacity(i)},setUrl(i){return o.value.setUrl(i)},setBounds(i){return o.value.setBounds(i)},getBounds(){return o.value.getBounds()},getElement(){return o.value.getElement()},bringToFront(){return o.value.bringToFront()},bringToBack(){return o.value.bringToBack()},setZIndex(i){return o.value.setZIndex(i)}};return{options:r,methods:l}},mt=n.defineComponent({name:"LImageOverlay",props:Te,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:l,methods:i}=pt(t,e,o);return n.onMounted(async()=>{const{imageOverlay:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.url,t.bounds,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),yt=n.defineComponent({props:x,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{methods:l}=X(t,e,o);return n.onMounted(async()=>{const{layerGroup:i}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i(void 0,t.options));const u=C(o.attrs);e.value.on(u),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}});function Pe(t,o,e){var s,a,r;o===void 0&&(o=50),e===void 0&&(e={});var l=(s=e.isImmediate)!=null&&s,i=(a=e.callback)!=null&&a,u=e.maxWait,c=Date.now(),d=[];function m(){if(u!==void 0){var f=Date.now()-c;if(f+o>=u)return u-f}return o}var P=function(){var f=[].slice.call(arguments),A=this;return new Promise(function(j,S){var w=l&&r===void 0;if(r!==void 0&&clearTimeout(r),r=setTimeout(function(){if(r=void 0,c=Date.now(),!l){var M=t.apply(A,f);i&&i(M),d.forEach(function(I){return(0,I.resolve)(M)}),d=[]}},m()),w){var _=t.apply(A,f);return i&&i(_),j(_)}d.push({resolve:j,reject:S})})};return P.cancel=function(f){r!==void 0&&clearTimeout(r),d.forEach(function(A){return(0,A.reject)(f)}),d=[]},P}const se={...D,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},vt=n.defineComponent({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:se,setup(t,o){const e=n.ref(),s=n.reactive({ready:!1,layersToAdd:[],layersInControl:[]}),{options:a}=E(t),r=L(t,se,a),l=Z(T),i=Z(J),u=Z(z),c=Z(ae);n.provide(g,t.useGlobalLeaflet);const d=n.computed(()=>{const j={};return t.noBlockingAnimations&&(j.animate=!1),j}),m=n.computed(()=>{const j=d.value;return t.padding&&(j.padding=t.padding),t.paddingTopLeft&&(j.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(j.paddingBottomRight=t.paddingBottomRight),j}),P={moveend:Pe(j=>{s.leafletRef&&(o.emit("update:zoom",s.leafletRef.getZoom()),o.emit("update:center",s.leafletRef.getCenter()),o.emit("update:bounds",s.leafletRef.getBounds()))}),overlayadd(j){const S=s.layersInControl.find(w=>w.name===j.name);S&&S.updateVisibleProp(!0)},overlayremove(j){const S=s.layersInControl.find(w=>w.name===j.name);S&&S.updateVisibleProp(!1)}};n.onMounted(async()=>{t.useGlobalLeaflet&&(b.L=b.L||await import("leaflet"));const{map:j,CRS:S,Icon:w,latLngBounds:_,latLng:M,stamp:I}=t.useGlobalLeaflet?b.L:await import("leaflet/dist/leaflet-src.esm");try{r.beforeMapMount&&await r.beforeMapMount()}catch(p){console.error(`The following error occurred running the provided beforeMapMount hook ${p.message}`)}await We(w);const K=typeof r.crs=="string"?S[r.crs]:r.crs;r.crs=K||S.EPSG3857;const B={addLayer(p){p.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd.push(p):s.layersInControl.find(U=>I(U.leafletObject)===I(p.leafletObject))||(s.layerControl.addLayer(p),s.layersInControl.push(p))),p.visible!==!1&&s.leafletRef.addLayer(p.leafletObject)},removeLayer(p){p.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd=s.layersToAdd.filter(O=>O.name!==p.name):(s.layerControl.removeLayer(p.leafletObject),s.layersInControl=s.layersInControl.filter(O=>I(O.leafletObject)!==I(p.leafletObject)))),s.leafletRef.removeLayer(p.leafletObject)},registerLayerControl(p){s.layerControl=p,s.layersToAdd.forEach(O=>{s.layerControl.addLayer(O)}),s.layersToAdd=[],u(p)},registerControl(p){s.leafletRef.addControl(p.leafletObject)},setZoom(p){const O=s.leafletRef.getZoom();p!==O&&s.leafletRef.setZoom(p,d.value)},setCrs(p){const O=s.leafletRef.getBounds();s.leafletRef.options.crs=p,s.leafletRef.fitBounds(O,{animate:!1,padding:[0,0]})},fitBounds(p){s.leafletRef.fitBounds(p,m.value)},setBounds(p){if(!p)return;const O=_(p);if(!O.isValid())return;!(s.lastSetBounds||s.leafletRef.getBounds()).equals(O,0)&&(s.lastSetBounds=O,s.leafletRef.fitBounds(O))},setCenter(p){if(p==null)return;const O=M(p),U=s.lastSetCenter||s.leafletRef.getCenter();(U.lat!==O.lat||U.lng!==O.lng)&&(s.lastSetCenter=O,s.leafletRef.panTo(O,d.value))}};W(l,B.addLayer),W(i,B.removeLayer),W(u,B.registerControl),W(c,B.registerLayerControl),s.leafletRef=n.markRaw(j(e.value,r)),h(B,s.leafletRef,t);const $e=C(o.attrs);oe(s.leafletRef,P),oe(s.leafletRef,$e),s.ready=!0,n.nextTick(()=>o.emit("ready",s.leafletRef))}),n.onBeforeUnmount(()=>{re(P),s.leafletRef&&(s.leafletRef.off(),s.leafletRef.remove())});const f=n.computed(()=>s.leafletRef),A=n.computed(()=>s.ready);return{root:e,ready:A,leafletObject:f}},render(){return n.h("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),ft=["Symbol(Comment)","Symbol(Text)"],bt=["LTooltip","LPopup"],we={...N,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},Lt=(t,o,e)=>{const{options:s,methods:a}=F(t,o,e),r=L(t,we,s),l={...a,setDraggable(i){o.value.dragging&&(i?o.value.dragging.enable():o.value.dragging.disable())},latLngSync(i){e.emit("update:latLng",i.latlng),e.emit("update:lat-lng",i.latlng)},setLatLng(i){if(i!=null&&o.value){const u=o.value.getLatLng();(!u||!u.equals(i))&&o.value.setLatLng(i)}}};return{options:r,methods:l}},ht=(t,o)=>{const e=o.slots.default&&o.slots.default();return e&&e.length&&e.some(gt)};function gt(t){return!(ft.includes(t.type.toString())||bt.includes(t.type.name))}const Ot=n.defineComponent({name:"LMarker",props:we,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T);n.provide(ie,()=>{var c;return!!((c=e.value)!=null&&c.getElement())}),n.provide(le,c=>{var m,P;const d=G((m=e.value)==null?void 0:m.getElement)&&((P=e.value)==null?void 0:P.getElement());d&&(d.innerHTML=c)}),n.provide(ue,c=>{var d;return((d=e.value)==null?void 0:d.setIcon)&&e.value.setIcon(c)});const{options:l,methods:i}=Lt(t,e,o),u={moveHandler:Pe(i.latLngSync)};return n.onMounted(async()=>{const{marker:c,divIcon:d}=a?b.L:await import("leaflet/dist/leaflet-src.esm");ht(l,o)&&(l.icon=d({className:""})),e.value=n.markRaw(c(t.latLng,l));const m=C(o.attrs);e.value.on(m),e.value.on("move",u.moveHandler),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),n.onBeforeUnmount(()=>re(u)),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),V={...R,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Be=(t,o,e)=>{const{options:s,methods:a}=ve(t,o,e),r=L(t,V,s),l={...a,setSmoothFactor(i){o.value.setStyle({smoothFactor:i})},setNoClip(i){o.value.setStyle({noClip:i})},addLatLng(i){o.value.addLatLng(i)}};return{options:r,methods:l}},q={...V},ke=(t,o,e)=>{const{options:s,methods:a}=Be(t,o,e),r=L(t,q,s),l={...a,toGeoJSON(i){return o.value.toGeoJSON(i)}};return{options:r,methods:l}},jt=n.defineComponent({name:"LPolygon",props:q,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:l,methods:i}=ke(t,e,o);return n.onMounted(async()=>{const{polygon:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLngs,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),Ct=n.defineComponent({name:"LPolyline",props:V,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:l,methods:i}=Be(t,e,o);return n.onMounted(async()=>{const{polyline:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLngs,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),Me={...D,content:{type:String,default:null}},Ie=(t,o)=>{const{options:e,methods:s}=E(t),a={...s,setContent(r){o.value&&r!==null&&r!==void 0&&o.value.setContent(r)}};return{options:e,methods:a}},Ae=t=>t.default?n.h("div",{ref:"root"},t.default()):null,St={...Me,latLng:{type:[Object,Array],default:()=>[]}},Tt=(t,o)=>{const{options:e,methods:s}=Ie(t,o);return{options:e,methods:s}},Pt=n.defineComponent({name:"LPopup",props:St,setup(t,o){const e=n.ref(),s=n.ref(null),a=n.inject(g),r=y(ce),l=y(pe),{options:i,methods:u}=Tt(t,e);return n.onMounted(async()=>{const{popup:c}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(c(i)),t.latLng!==void 0&&e.value.setLatLng(t.latLng),h(u,e.value,t);const d=C(o.attrs);e.value.on(d),e.value.setContent(t.content||s.value||""),r(e.value),n.nextTick(()=>o.emit("ready",e.value))}),n.onBeforeUnmount(()=>{l()}),{root:s,leafletObject:e}},render(){return Ae(this.$slots)}}),_e={...q,latLngs:{...q.latLngs,required:!1},bounds:{type:Object,custom:!0}},wt=(t,o,e)=>{const{options:s,methods:a}=ke(t,o,e),r=L(t,_e,s),l={...a,setBounds(i){o.value.setBounds(i)},setLatLngs(i){o.value.setBounds(i)}};return{options:r,methods:l}},Bt=n.defineComponent({name:"LRectangle",props:_e,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:l,methods:i}=wt(t,e,o);return n.onMounted(async()=>{const{rectangle:u,latLngBounds:c}=a?b.L:await import("leaflet/dist/leaflet-src.esm"),d=t.bounds?c(t.bounds):c(t.latLngs||[]);e.value=n.markRaw(u(d,l));const m=C(o.attrs);e.value.on(m),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return k(this.ready,this.$slots)}}),ee={...Y,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(o=>typeof o=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},Ge=(t,o,e)=>{const{options:s,methods:a}=Se(t,o,e),r=L(t,ee,s),l={...a};return{options:r,methods:l}},kt=n.defineComponent({props:ee,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(T),{options:r,methods:l}=Ge(t,e,o);return n.onMounted(async()=>{const{tileLayer:i}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i(t.url,r));const u=C(o.attrs);e.value.on(u),h(l,e.value,t),a({...t,...l,leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Mt={...Me},It=(t,o)=>{const{options:e,methods:s}=Ie(t,o),a=y(me);return n.onBeforeUnmount(()=>{a()}),{options:e,methods:s}},At=n.defineComponent({name:"LTooltip",props:Mt,setup(t,o){const e=n.ref(),s=n.ref(null),a=n.inject(g),r=y(de),{options:l,methods:i}=It(t,e);return n.onMounted(async()=>{const{tooltip:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(l)),h(i,e.value,t);const c=C(o.attrs);e.value.on(c),e.value.setContent(t.content||s.value||""),r(e.value),n.nextTick(()=>o.emit("ready",e.value))}),{root:s,leafletObject:e}},render(){return Ae(this.$slots)}}),Ne={...ee,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}},_t=(t,o,e)=>{const{options:s,methods:a}=Ge(t,o,e);return{options:L(t,Ne,s),methods:{...a}}},Gt=n.defineComponent({props:Ne,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(T),{options:r,methods:l}=_t(t,e,o);return n.onMounted(async()=>{const{tileLayer:i}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(i.wms(t.url,r));const u=C(o.attrs);e.value.on(u),h(l,e.value,t),a({...t,...l,leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}});exports.LCircle=xe;exports.LCircleMarker=Ke;exports.LControl=Qe;exports.LControlAttribution=Ye;exports.LControlLayers=et;exports.LControlScale=ot;exports.LControlZoom=st;exports.LFeatureGroup=at;exports.LGeoJson=lt;exports.LGridLayer=ct;exports.LIcon=dt;exports.LImageOverlay=mt;exports.LLayerGroup=yt;exports.LMap=vt;exports.LMarker=Ot;exports.LPolygon=jt;exports.LPolyline=Ct;exports.LPopup=Pt;exports.LRectangle=Bt;exports.LTileLayer=kt;exports.LTooltip=At;exports.LWmsTileLayer=Gt;
